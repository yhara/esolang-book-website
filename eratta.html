<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>Rubyで作る奇妙なプログラミング言語</title><link href="stylesheets/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" /><script src="javascripts/all.js" type="text/javascript"></script></head><body class="eratta"><div id="container"><h1><a href="/">Rubyで作る奇妙なプログラミング言語</a></h1><div class="menu" id="ul"><li>購入する <a href="https://book.mynavi.jp/ec/products/detail/id=24268">(マイナビBooks)</a> <a href="http://tatsu-zine.com/books/esoteric-language-programing-in-ruby">(達人出版会)</a></li><li><a href="/eratta.html">正誤表</a></li><li><a href="/practices.html">練習問題の解答例</a></li><li><a href="/sources.html">ソースコード</a></li></div><h2>正誤表</h2>

<p>本書の正誤表です。</p>

<p>もしも間違いを発見なさった場合には、お手数ですがTwitterの<a href="https://twitter.com/yhara">@yhara</a>か、yutaka.hara.gmail.comまでお知らせください。</p>

<h3>第二版</h3>

<p>以下は第二版(と第一版)に当てはまる内容です。</p>

<ul>
<li>2-2節

<ul>
<li>parse_multipleというメソッドを定義していますが、「掛け算」の英語は「multiplication」なので、parse_multiplicativeという名前の方が適切でした。</li>
</ul></li>
</ul>

<h3>第一版</h3>

<p>以下は第一版にのみ当てはまる内容です(第二版では修正されています)。</p>

<h4>重要な間違い</h4>

<p>p.143, p.149 のfind_labelsメソッドにおいて、raiseの位置が間違っていて、ラベル命令が使えなくなっていました。申し訳ないです。</p>

<p>誤：</p>

<pre><code>raise ProgramError, ...
if insn == :label
</code></pre>

<p>正：</p>

<pre><code>if insn == :label    
　raise ProgramError, ...
</code></pre>

<h4>その他の間違い</h4>

<ul>
<li><p>全般</p>

<ul>
<li><code>require &quot;foo&quot;</code>などのようにしてカレントディレクトリのファイル(この例では、foo.rb)を読み込んでいる箇所がありますが、Ruby 1.9.2以降では、<code>require &quot;./foo&quot;</code>のように明示的に<code>./</code>を付ける必要があるようになりました。</li>
</ul></li>
<li><p>帯裏</p>

<ul>
<li>誤：False8</li>
<li>正：False</li>
<li>誤：Taxi4</li>
<li>正：Taxi</li>
</ul></li>
<li><p>p.11 概要 </p>

<ul>
<li>誤：<code>$ aptitude install ...</code></li>
<li>正：<code>$ <strong>sudo</strong> aptitude install ...</code></li>
<li>installには管理者権限が必要でした。</li>
</ul></li>
</ul>

<h5>1-1</h5>

<ul>
<li><p>p.15 リスト2</p>

<ul>
<li>誤：<code>98..on the wall, <strong>99</strong> bottles...</code></li>
<li>正：<code>98..on the wall, <strong>98</strong> bottles...</code></li>
</ul></li>
<li><p>p.25 上部</p>

<ul>
<li>誤：がが</li>
<li>正：が</li>
</ul></li>
</ul>

<h5>1-2</h5>

<ul>
<li><p>p.34 上部</p>

<ul>
<li>誤：ここでは <strong>案2</strong> を採用することにする</li>
<li>正：ここでは <strong>案1</strong> を採用することにする</li>
</ul></li>
<li><p>p.34 上部</p>

<ul>
<li>誤：案1・2と <strong>案3・4</strong> は両立できるので</li>
<li>正：案1・2と <strong>案4</strong> は両立できるので</li>
<li>案3と案1・2は両立できませんでした。</li>
</ul></li>
</ul>

<h5>1-3</h5>

<ul>
<li><p>p.45 リスト1</p>

<ul>
<li>誤：<code>&gt;+.<strong>#</strong></code></li>
<li>正：<code>&gt;+.</code></li>
<li>余計な「#」が付いていました。</li>
</ul></li>
<li><p>p.48 図の下</p>

<ul>
<li>誤：「 <strong>+</strong> 」命令も「 <strong>-</strong> 」命令も使っていないので..</li>
<li>正：「 <strong>&gt;</strong> 」命令も「 <strong>&lt;</strong> 」命令も使っていないので..</li>
<li>+-命令ではポインタを移動できません。 </li>
</ul></li>
<li><p>p.50 (7)</p>

<ul>
<li>誤：次に実行される命令は「 <strong>[</strong> 」だが</li>
<li>正：次に実行される命令は「 <strong>]</strong> 」だが</li>
<li>誤：数値が0のとき、「 <strong>[</strong> 」命令は </li>
<li>正：数値が0のとき、「 <strong>]</strong> 」命令は </li>
</ul></li>
<li><p>p.52 図1の上</p>

<ul>
<li>誤： <strong>4つ</strong> のトークンに分割する</li>
<li>正： <strong>6つ</strong> のトークンに分割する</li>
</ul></li>
<li><p>p.59 リスト</p>

<ul>
<li>誤：<code>require &#39;normal-library</code></li>
<li>正：<code>require &#39;normal-library<strong>&#39;</strong></code></li>
</ul></li>
<li><p>p.60 1段落目</p>

<ul>
<li>誤：最終的に <strong>NoMemoryErrorが発生する</strong> が</li>
<li>正：最終的に <strong>メモリが足らなくなる</strong> が</li>
<li>NoMemoryErrorが発生するかどうかは未確認でした。</li>
</ul></li>
<li><p>p.76 2段落目</p>

<ul>
<li>このように <strong>Braif*ck</strong> の</li>
<li>このように <strong>Brainf*ck</strong> の</li>
</ul></li>
</ul>

<h5>1-4</h5>

<ul>
<li><p>p.78 下部</p>

<ul>
<li>誤： <strong>[Tab][Tab][Space]</strong> なら足し算</li>
<li>正： <strong>[Tab][Space][Space][Space]</strong> なら足し算</li>
</ul></li>
<li><p>p.91 表2</p>

<ul>
<li>誤：<code>[:<strong>mem</strong>_write] </code></li>
<li>正：<code>[:<strong>heap</strong>_write]</code></li>
<li>誤：<code>[:<strong>mem</strong>_read] </code></li>
<li>正：<code>[:<strong>heap</strong>_read]</code></li>
</ul></li>
<li><p>p.93 箇条書き</p>

<ul>
<li>誤： <strong>アンダースコア</strong> で区切る。</li>
<li>正： <strong>アンダーバー</strong> で区切る。</li>
<li>表記ゆれ(ここだけアンダースコアになっていました。)</li>
</ul></li>
<li><p>p.110 リスト7</p>

<ul>
<li>誤：<code>[:label &quot; ¥t¥t &quot;],</code></li>
<li>正：<code>[:label<strong>,</strong> &quot; ¥t¥t &quot;],</code></li>
</ul></li>
<li><p>p.114 下部</p>

<ul>
<li>誤：先に <strong>ポップ</strong> すればいい</li>
<li>正：先に <strong>プッシュ</strong> すればいい</li>
</ul></li>
<li><p>p.119 1段落目</p>

<ul>
<li>誤： <strong>initialize</strong> で初期化した配列return_to</li>
<li>正： <strong>runメソッドの先頭</strong> で初期化した配列return_to</li>
<li>ローカル変数でしたね。</li>
</ul></li>
<li><p>1-4 全体</p>

<ul>
<li>「num_inは数値をスタックに積む」のような記述がありますが、ヒープに積むのでした。</li>
</ul></li>
</ul>

<h5>2-1</h5>

<ul>
<li><p>p.136 2段落目</p>

<ul>
<li>誤：後に出てきたほう <strong>で上書きされる</strong></li>
<li>正：後に出てきたほう <strong>は単に無視される</strong></li>
<li>説明が逆でした。</li>
</ul></li>
<li><p>p.145,p.147 rotate命令</p>

<ul>
<li>誤：<code>z, y, x<strong>,</strong> = pop, pop, pop</code></li>
<li>正：<code>z, y, x = pop, pop, pop</code></li>
<li>(動作は同じですが)余計なカンマがありました。</li>
</ul></li>
</ul>

<h5>2-2</h5>

<ul>
<li>p.178 上部

<ul>
<li>誤：<code><strong>3</strong>12</code></li>
<li>正：<code><strong>2</strong>12</code></li>
<li>かけ算が間違っていました。(次のページも同様です)</li>
</ul></li>
</ul>
</div></body></html>